<ion-header mode="ios">
  <ion-toolbar>
    <ion-butttons slot="start">
      <ion-back-button defaultHref="login/home"></ion-back-button>
    </ion-butttons>
    <div align="center">
      <ion-title>Perfil</ion-title>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-label class="header">DETALHES DO PERFIL</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-label class="subHeader">Nome</ion-label>
        <ion-label>{{ userService.user.nome }} {{ userService.user?.sobrenome }}</ion-label>
      </ion-col>
      <ion-col size="1" align-self-end (click)="extendColName()">
        <ion-icon [name]="arrowImgName"></ion-icon>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="isExpandedName" class="ion-justify-content-center">
      <ion-col id="extendedName">
        <ion-icon *ngIf="!userService.user.imgperfil" src="assets/addImage.svg" (click)="selectPerfilImg()"></ion-icon>
        <div *ngIf="userService.user.imgperfil" id="imgContainer">
          <div (click)="selectPerfilImg()">
            <img *ngIf="userService.user.imgperfil" [src]="BASE_URL + '/uploads/' + userService.user.imgperfil" />
          </div>
        </div>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="isExpandedName" class="ion-justify-content-center">
      <ion-col text-center>
        <span>Insira a sua foto</span>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-label class="subHeader">Email</ion-label>
        <ion-label>{{ userService.user.email }}</ion-label>
      </ion-col>
      <!-- <ion-col size="1" align-self-end>
        <ion-icon name="ios-arrow-forward"></ion-icon>
      </ion-col> -->
    </ion-row>
    <ion-row class="endLine">
      <ion-col>
        <ion-label class="subHeader">Telefone</ion-label>
        <ion-label>({{ userService.user?.telefones[0]?.ddd }}) {{ userService.user?.telefones[0]?.numero }}</ion-label>
      </ion-col>
      <!-- <ion-col size="1" align-self-end>
        <ion-icon name="ios-arrow-forward"></ion-icon>
      </ion-col> -->
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-label class="header">DETALHES DE SEGURANÇA</ion-label>
      </ion-col>
    </ion-row>
    <ion-row class="endLine">
      <ion-col>
        <ion-label class="subHeader">Senha</ion-label>
        <ion-label>Mudar senha</ion-label>
      </ion-col>
      <ion-col size="1" align-self-end (click)="extendColSenha()">
        <ion-icon [name]="arrowImgSenha"></ion-icon>
      </ion-col>
    </ion-row>
    <ion-row [class.endLine]="isExpandedSenha" class="ion-justify-content-center" *ngIf="isExpandedSenha">
      <ion-col class="ion-align-self-center" size="10">
        <ion-item>
          <ion-label position="floating">Nova Senha</ion-label>
          <ion-input [(ngModel)]="newPassword" type="password" (keyup)="checkPassword()" pattern="^.{6,}$"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Cofirme a nova senha</ion-label>
          <ion-input [(ngModel)]="confirmNewPassword" type="password" pattern="^.{6,}$"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col id="sendNewPassword" size="2" class="ion-align-self-end ion-text-end" [class.valid]="validPassword && newPassword === confirmNewPassword" (click)="updatePassword()">
        <ion-icon src="assets/send.svg"></ion-icon>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-label class="header">IDIOMA</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-label class="subHeader">Selecione o idioma</ion-label>
        <ion-label>Portugês</ion-label>
      </ion-col>
      <!-- <ion-col size="1" align-self-end>
        <ion-icon name="ios-arrow-forward"></ion-icon>
      </ion-col> -->
    </ion-row>
    <ion-row (click)="logout()">
      <ion-col>
        <ion-label id="exitLabel">Sair</ion-label>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>